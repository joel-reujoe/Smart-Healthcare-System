<html>
    <head>
        <title>Reset Password Page</title>
        <link  rel="stylesheet" type="text/css"  href="style.css">
    </head>
    <body class="body">
        <div id="header">DocCall</div>
        <div id="formbody">
            <div id="title">DocCall Password Reset</div><p>
            <div id="alert_msg"></div>
            <form id="form">
                <span id="old_password_error"></span>
                <input type="password" id="old_password" name="old_password" placeholder="Old Password You Remember"><p>
                <span id="new_password_error"></span>
                <input type="password" id="new_password" name="new_password" placeholder="New Password"><p>
                <span id="cnew_password_error"></span>                
                <input type="password" id="cnew_password" name="cnew_password" placeholder="Confirm Password"><p>                
                <button id="submit" class="btn btn-info">Submit</button>
            </form>
            <div id="signUptext">Don't have an account? <a href="registration1.html">Sign Up here</a></div>
        </div>
    </body>
</html>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="./functions/lib/general.js"></script>
<script src="./functions/lib/authenticate/resetPassword.js"></script>
<script src="./functions/lib/authenticate/login.js"></script>
<script>
document.getElementById("submit").addEventListener("click",function(event){
    event.preventDefault()
    var param=validateResetPassword()
    if(param!=null)
    {
        axios({
            method:'get',
            url:`${globalpath}controllers/ctrl-generalized/`,
            params:param
        }).then(function(response){
            document.getElementById("alert_msg").innerHTML=response.data.message
            localStorage.removeItem("email")
            window.location="login.html"
        }).catch(function(error){
            console.log(error)
        })
    }
})
</script>